{"version":3,"sources":["quill.tsx","index.tsx"],"names":["withStreamlitConnection","args","divRef","useRef","useEffect","Streamlit","setFrameHeight","window","katex","ro","ResizeObserver","current","observe","disconnect","ref","defaultValue","modules","toolbar","history","placeholder","preserveWhitespace","readOnly","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4OA2DeA,G,cAAAA,aA1CD,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,KACTC,EAASC,iBAAuB,MA0BtC,OAfAC,qBAAU,WACRC,IAAUC,iBAEVC,OAAOC,MAAQA,IAEf,IAAMC,EAAK,IAAIC,KAAe,WAC5BL,IAAUC,oBAMZ,OAHIJ,EAAOS,SACTF,EAAGG,QAAQV,EAAOS,SAEb,kBAAMF,EAAGI,iBAGX,yBAAKC,IAAKZ,GACf,kBAAC,IAAD,CACEa,aAAcd,EAAKc,aACnBC,QAAS,CACPC,QAAShB,EAAKgB,QACdC,QAASjB,EAAKiB,SAEhBC,YAAalB,EAAKkB,YAClBC,mBAAoBnB,EAAKmB,mBACzBC,SAAUpB,EAAKoB,gBCjDrBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.dac4f954.chunk.js","sourcesContent":["import {\r\n  ComponentProps,\r\n  Streamlit,\r\n  withStreamlitConnection\r\n} from \"streamlit-component-lib\";\r\nimport React, { useEffect, useRef } from \"react\"\r\nimport ReactQuill from \"react-quill\"\r\nimport ResizeObserver from \"resize-observer-polyfill\"\r\nimport katex from \"katex\"\r\n\r\nimport \"katex/dist/katex.min.css\"\r\nimport \"quill/dist/quill.snow.css\"\r\n\r\ninterface QuillProps extends ComponentProps {\r\n  args: any\r\n}\r\n\r\nconst Quill = ({ args }: QuillProps) => {\r\n  const divRef = useRef<HTMLDivElement>(null)\r\n\r\n  let timeout: NodeJS.Timeout\r\n\r\n  // const handleChange = (content: string, delta: any, source: any, editor: any) => {\r\n  //   clearTimeout(timeout)\r\n  //   timeout = setTimeout(() => {\r\n  //     // Streamlit.setComponentValue(args.html ? content : editor.getText())\r\n  //   }, 200)\r\n  // }\r\n\r\n  useEffect(() => {\r\n    Streamlit.setFrameHeight()\r\n\r\n    window.katex = katex\r\n\r\n    const ro = new ResizeObserver(() => {\r\n      Streamlit.setFrameHeight()\r\n    })\r\n\r\n    if (divRef.current)\r\n      ro.observe(divRef.current)\r\n\r\n    return () => ro.disconnect()\r\n  })\r\n\r\n  return <div ref={divRef}>\r\n    <ReactQuill\r\n      defaultValue={args.defaultValue}\r\n      modules={{\r\n        toolbar: args.toolbar,\r\n        history: args.history,\r\n      }}\r\n      placeholder={args.placeholder}\r\n      preserveWhitespace={args.preserveWhitespace}\r\n      readOnly={args.readOnly}\r\n      // onChange={handleChange}\r\n    />\r\n  </div>\r\n}\r\n\r\nexport default withStreamlitConnection(Quill)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Quill from \"./quill\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Quill />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}